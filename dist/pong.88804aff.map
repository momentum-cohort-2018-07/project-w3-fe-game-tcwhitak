{"version":3,"sources":["pong.js"],"names":["canvas","canvasContext","ballX","ballY","ballSpeedX","ballSpeedY","paddle1Y","paddle2Y","player1Score","player2Score","PADDLE_HEIGHT","PADDLE_WIDTH","WINNING_SCORE","showingWinScreen","calculateMousePos","evt","rect","getBoundingClientRect","root","document","documentElement","mouseX","clientX","left","scrollLeft","mouseY","clientY","top","scrollTop","x","y","handleMouseClick","window","onload","getElementById","getContext","framesPerSecond","setInterval","moveAll","drawAll","addEventListener","mousePos","ballReset","width","height","computerMovement","centerPaddle2Y","deltaY","drawNet","i","colorRect","fillText","colorCircle","leftX","topY","drawColor","fillStyle","fillRect","centerX","centerY","radius","beginPath","arc","Math","PI","fill"],"mappings":"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","file":"pong.88804aff.map","sourceRoot":"..","sourcesContent":["let canvas\nlet canvasContext\n// initial ball position\nlet ballX = 400\nlet ballY = 300\n// ball speed\nlet ballSpeedX = 10\nlet ballSpeedY = 4\n// paddle start position\nlet paddle1Y = 250\nlet paddle2Y = 250\n// initial score values\nlet player1Score = 0\nlet player2Score = 0\n// paddles dimensions\nconst PADDLE_HEIGHT = 100\nconst PADDLE_WIDTH = 10\n\n// winning score\nconst WINNING_SCORE = 20\n\n// win screen\nlet showingWinScreen = false\n\n// function to allow paddle to track mouse location\nfunction calculateMousePos (evt) {\n  let rect = canvas.getBoundingClientRect()\n  let root = document.documentElement\n  let mouseX = evt.clientX - rect.left - root.scrollLeft\n  let mouseY = evt.clientY - rect.top - root.scrollTop\n  return {\n    x: mouseX,\n    y: mouseY\n  }\n};\n\nfunction handleMouseClick (evt) {\n  if (showingWinScreen === true) {\n    player1Score = 0\n    player2Score = 0\n    showingWinScreen = false\n  }\n}\n\nwindow.onload = function () {\n  canvas = document.getElementById('game-canvas')\n  canvasContext = canvas.getContext('2d')\n  let framesPerSecond = 30\n  setInterval(function () {\n    moveAll()\n    drawAll()\n  }, 1000 / framesPerSecond)\n\n  canvas.addEventListener('mousedown', handleMouseClick)\n\n  canvas.addEventListener('mousemove',\n    function (evt) {\n      let mousePos = calculateMousePos(evt)\n      paddle1Y = mousePos.y - (PADDLE_HEIGHT / 2)\n    })\n}\n\nfunction ballReset () {\n  if (player1Score === WINNING_SCORE || player2Score === WINNING_SCORE) {\n    showingWinScreen = true\n  }\n\n  ballSpeedX = -ballSpeedX\n  ballSpeedY = 4\n  ballX = canvas.width / 2\n  ballY = canvas.height / 2\n}\n\nfunction computerMovement () {\n  let centerPaddle2Y = paddle2Y + (PADDLE_HEIGHT / 2)\n  if (centerPaddle2Y < ballY - 35) {\n    paddle2Y += 6\n  } else if (centerPaddle2Y > ballY + 35) {\n    paddle2Y -= 6\n  }\n}\n\nfunction moveAll () {\n  computerMovement()\n  ballX += ballSpeedX\n  ballY += ballSpeedY\n  // if ball goes off left side...\n  if (ballX < 0) {\n    if (ballY > paddle1Y && ballY < paddle1Y + PADDLE_HEIGHT) {\n      ballSpeedX = -ballSpeedX\n      let deltaY = ballY - (paddle1Y + (PADDLE_HEIGHT / 2))\n      ballSpeedY = deltaY * 0.35\n    } else {\n      player2Score += 10\n      ballReset()\n    }\n  }\n  // if ball goes off right side\n  if (ballX > canvas.width) {\n    if (ballY > paddle2Y && ballY < paddle2Y + PADDLE_HEIGHT) {\n      ballSpeedX = -ballSpeedX\n      let deltaY = ballY - (paddle2Y + (PADDLE_HEIGHT / 2))\n      ballSpeedY = deltaY * 0.35\n    } else {\n      player1Score += 10\n      ballReset()\n    }\n  }\n  // if ball hits top or bottom\n  if (ballY > canvas.height || ballY < 0) {\n    ballSpeedY = -ballSpeedY\n  }\n}\n\nfunction drawNet () {\n  for (let i = 0; i < canvas.height; i += 40) {\n    colorRect(canvas.width / 2 - 1, i, 2, 20, 'white')\n  }\n}\n\nfunction drawAll () {\n  if (showingWinScreen) {\n    if (player1Score === WINNING_SCORE) {\n      canvasContext.fillText('Player 1 Wins!', 300, 300)\n    } else if (player2Score === WINNING_SCORE) {\n      canvasContext.fillText('Player 2 Wins!', 450, 300)\n    }\n\n    canvasContext.fillText('Game over, click to continue', 350, 500)\n    return\n  }\n  // draws black screen\n  colorRect(0, 0, canvas.width, canvas.height, 'black')\n  // draws net\n  drawNet()\n  // draws paddle 1 player\n  colorRect(0, paddle1Y, PADDLE_WIDTH, PADDLE_HEIGHT, 'white')\n  // draws paddle 2 computer\n  colorRect(canvas.width - PADDLE_WIDTH, paddle2Y, PADDLE_WIDTH, PADDLE_HEIGHT, 'white')\n  // draws ball\n  colorCircle(ballX, ballY, 10, 'white')\n  // draw scores\n  canvasContext.fillText(player1Score, 100, 100)\n  canvasContext.fillText(player2Score, canvas.width - 100, 100)\n}\n\nfunction colorRect (leftX, topY, width, height, drawColor) {\n  canvasContext.fillStyle = drawColor\n  canvasContext.fillRect(leftX, topY, width, height)\n}\n\nfunction colorCircle (centerX, centerY, radius, drawColor) {\n  canvasContext.fillStyle = drawColor\n  canvasContext.beginPath()\n  canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true)\n  canvasContext.fill()\n}\n"]}